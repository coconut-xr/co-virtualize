(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[579],{3349:function(e,a,n){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var a,n=1,t=arguments.length;n<t;n++)for(var o in a=arguments[n])Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,a,n,t){void 0===t&&(t=n),Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[n]}})}:function(e,a,n,t){void 0===t&&(t=n),e[t]=a[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,a){Object.defineProperty(e,"default",{enumerable:!0,value:a})}:function(e,a){e.default=a}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(a,e,n);return s(a,e),a},r=this&&this.__spreadArray||function(e,a,n){if(n||2===arguments.length)for(var t,o=0,s=a.length;o<s;o++)!t&&o in a||(t||(t=Array.prototype.slice.call(a,0,o)),t[o]=a[o]);return e.concat(t||Array.prototype.slice.call(a))};Object.defineProperty(a,"__esModule",{value:!0}),a.useVirtual=a.useVirtualControl=a.VirtualBase=void 0;var p=c(n(7378)),m=n(2286),l=(0,p.createContext)(null);function k(e,a){e((function(e){return e.filter((function(e){return e.id!=a})).sort((function(e,a){return e.index-a.index}))}))}function N(e,a,n){e((function(e){return e.map((function(e){if(e.id===a){var o=e.controllerPropsList.filter((function(e){return e.id!=n}));return t(t({},e),{controllerPropsList:o,controllerProps:o.map((function(e){return e.value}))})}return e}))}))}function u(e,a,n,t,o,s){e((function(e){var c,p,m=r([],e,!0),l=m.findIndex((function(e){if(e.id==a){if(e.index!=o&&e.controllerPropsList.length>0)throw"multiple controllers can't assign unequal indices to the same virtual element (id \""+a+'")';if(e.component!=t)throw"can't change the component of an exisiting element (id \""+a+'")';return!0}return!1}));return-1===l?(l=m.length,c=[],p=0):-1===(p=(c=r([],m[l].controllerPropsList,!0)).findIndex((function(e){return e.id===n})))&&(p=c.length),c[p]={id:n,value:s},m[l]={id:a,component:t,index:o,controllerPropsList:c,controllerProps:c.map((function(e){return e.value}))},m.sort((function(e,a){return e.index-a.index}))}))}function i(e,a){var n=(0,p.useContext)(l),t=(0,p.useMemo)((function(){var t=null!==a&&void 0!==a?a:(0,m.v4)(),o=(0,m.v4)();return[n.set.bind(null,t,o,e),n.unset.bind(null,t,o)]}),[n,a,e]);return(0,p.useEffect)((function(){return t[1]}),[t]),t}a.VirtualBase=function(e){var a=e.children,n=(0,p.useState)([]),t=n[0],o=n[1],s=(0,p.useMemo)((function(){return{set:u.bind(null,o),unset:N.bind(null,o)}}),[]),c=(0,p.useMemo)((function(){return t.map((function(e){var a=e.component,n=e.id,t=e.controllerProps,s=e.index;return p.default.createElement(a,{key:n,id:n,index:s,controllerProps:t,destroy:k.bind(null,o,n)})}))}),[t]);return p.default.createElement(l.Provider,{value:s},a,c)},a.useVirtualControl=i,a.useVirtual=function(e,a,n,t){var o=i(e,t)[0];(0,p.useEffect)((function(){return o(null!==n&&void 0!==n?n:0,a)}),[o,n,a])}},9138:function(e,a,n){"use strict";n.d(a,{$:function(){return c}});var t=n(5675),o=n(4246),s=function(e){var a=e.src;return"/co-virtualize".concat(a)};function c(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"flex-grow-1"}),(0,o.jsx)("footer",{className:"bg-light",children:(0,o.jsxs)("div",{className:"d-flex align-items-center justify-content-around p-3 container-lg",children:[(0,o.jsxs)("a",{target:"_blank",href:"https://github.com/cocoss-org/co-virtualize",className:"mx-2 text-black d-flex flex-row align-items-center",children:[(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-github mx-2",viewBox:"0 0 16 16",children:(0,o.jsx)("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})}),(0,o.jsx)("span",{className:"h5 mb-0",children:"Github"})]}),(0,o.jsx)("a",{className:"d-flex mx-2",target:"_blank",href:"https://www.coconut-xr.com/",children:(0,o.jsx)(t.default,{loader:s,layout:"fixed",width:170,height:40,src:"/powered-by.svg"})})]})})]})}},1655:function(e,a,n){"use strict";n.d(a,{h:function(){return r}});var t=n(7378),o=n(1664),s=n(4246),c=[{title:"List",url:"/list"},{title:"Transition",url:"/transition"}];function r(e){var a=e.selectedIndex,n=(0,t.useState)(!1),r=n[0],p=n[1];return(0,s.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:(0,s.jsxs)("div",{className:"container-fluid",children:[(0,s.jsx)(o.default,{href:"/",passHref:!0,children:(0,s.jsx)("a",{className:"navbar-brand",children:"co-virtualize examples"})}),(0,s.jsx)("button",{className:"navbar-toggler",type:"button",onClick:function(){return p(!r)},"data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,s.jsx)("span",{className:"navbar-toggler-icon"})}),(0,s.jsx)("div",{className:"align-self-flex-end navbar-collapse ".concat(r?"":"collapse"),children:(0,s.jsx)("ul",{className:"navbar-nav",children:c.map((function(e,n){var t=e.title,c=e.url;return(0,s.jsx)("li",{className:"nav-item",children:(0,s.jsx)(o.default,{href:c,passHref:!0,children:(0,s.jsx)("a",{className:"nav-link ".concat(n===a?"active":""),children:t})})},t)}))})})]})})}},916:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return b}});var t=n(907);var o=n(181);function s(e){return function(e){if(Array.isArray(e))return(0,t.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(7378),r=n(9008),p=n(3349),m=n(1472),l=n(1655),k=n(9138),N=n(7462),u=n(4925),i=n(3905),d=["components"],f={};function v(e){var a=e.components,n=(0,u.Z)(e,d);return(0,i.kt)("wrapper",(0,N.Z)({},f,n,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("h1",null,"Transition Example"),(0,i.kt)("p",null,"We create three controllers, that all connect to the same virtual component. The virtual component then interpolates the values, retrieved from it's controllers based on the slider value."),(0,i.kt)("p",null,"The slider goes from ",(0,i.kt)("inlineCode",{parentName:"p"},"0 - 2")," and the controllers are defined as follows:"),(0,i.kt)("pre",{className:"language-typescript"},(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"VirtualizedRectangle")," index",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"0"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," value",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"0"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"VirtualizedRectangle")," index",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"1"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," value",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"1"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"VirtualizedRectangle")," index",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"2"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," value",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"0.5"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n")),(0,i.kt)("p",null,"This makes the reactangle start on the left, go to the right, when the slider is at 50%, and the go to the middle, when the slider is at 100%."),(0,i.kt)("h1",null,"Source Code"),(0,i.kt)("pre",{className:"language-typescript"},(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},(0,i.kt)("span",{parentName:"code",className:"token keyword module"},"export")," ",(0,i.kt)("span",{parentName:"code",className:"token keyword module"},"default")," ",(0,i.kt)("span",{parentName:"code",className:"token keyword"},"function")," ",(0,i.kt)("span",{parentName:"code",className:"token function"},(0,i.kt)("span",{parentName:"span",className:"token maybe-class-name"},"Index")),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,i.kt)("span",{parentName:"code",className:"token keyword"},"const")," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{")," value ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,i.kt)("span",{parentName:"code",className:"token function"},"useSpring"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{")," value",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token number"},"0")," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,i.kt)("span",{parentName:"code",className:"token keyword control-flow"},"return")," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),"\n        ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),"div className",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token string"},'"d-flex flex-column"'),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n            ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),"input\n                defaultValue",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"0"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n                min",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"0"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n                max",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"2"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n                step",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"0.01"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n                type",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token string"},'"range"'),"\n                onChange",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),"e",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,i.kt)("span",{parentName:"code",className:"token arrow operator"},"=>")," value",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,i.kt)("span",{parentName:"code",className:"token method function property-access"},"start"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),"e",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,i.kt)("span",{parentName:"code",className:"token property-access"},"target"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,i.kt)("span",{parentName:"code",className:"token property-access"},"valueAsNumber"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n            ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n            ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),"div style",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{")," width",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token string"},'"100%"'),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," overflow",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token string"},'"hidden"'),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," height",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token number"},"300"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," position",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token string"},'"relative"')," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n                ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"SpringValueContext"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,i.kt)("span",{parentName:"code",className:"token property-access"},(0,i.kt)("span",{parentName:"span",className:"token maybe-class-name"},"Provider"))," value",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"value",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n                    ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"VirtualBase"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n                        ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"VirtualizedRectangle")," index",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"0"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," value",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"0"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n                        ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"VirtualizedRectangle")," index",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"1"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," value",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"1"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n                        ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"VirtualizedRectangle")," index",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"2"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," value",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token number"},"0.5"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n                    ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"VirtualBase"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n                ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"SpringValueContext"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,i.kt)("span",{parentName:"code",className:"token property-access"},(0,i.kt)("span",{parentName:"span",className:"token maybe-class-name"},"Provider")),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n            ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),"div",(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n        ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),"div",(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n    ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,i.kt)("span",{parentName:"code",className:"token keyword"},"function")," ",(0,i.kt)("span",{parentName:"code",className:"token function"},(0,i.kt)("span",{parentName:"span",className:"token maybe-class-name"},"VirtualizedRectangle")),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{")," value",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," index ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{")," value",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token builtin"},"number"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},";")," index",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token builtin"},"number")," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,i.kt)("span",{parentName:"code",className:"token function"},"useVirtual"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"Rectangle"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{")," index",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," value ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,i.kt)("span",{parentName:"code",className:"token keyword nil"},"undefined"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,i.kt)("span",{parentName:"code",className:"token string"},'"abc"'),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,i.kt)("span",{parentName:"code",className:"token keyword control-flow"},"return")," ",(0,i.kt)("span",{parentName:"code",className:"token keyword null nil"},"null"),"\n",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n\n",(0,i.kt)("span",{parentName:"code",className:"token keyword"},"const")," ",(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"SpringValueContext")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,i.kt)("span",{parentName:"code",className:"token generic-function"},(0,i.kt)("span",{parentName:"span",className:"token function"},"createContext"),(0,i.kt)("span",{parentName:"span",className:"token generic class-name"},(0,i.kt)("span",{parentName:"span",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"span",className:"token maybe-class-name"},"SpringValue"),(0,i.kt)("span",{parentName:"span",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"span",className:"token builtin"},"number"),(0,i.kt)("span",{parentName:"span",className:"token operator"},">>"))),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,i.kt)("span",{parentName:"code",className:"token keyword null nil"},"null")," ",(0,i.kt)("span",{parentName:"code",className:"token keyword module"},"as")," ",(0,i.kt)("span",{parentName:"code",className:"token builtin"},"any"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n\n",(0,i.kt)("span",{parentName:"code",className:"token keyword"},"function")," ",(0,i.kt)("span",{parentName:"code",className:"token function"},(0,i.kt)("span",{parentName:"span",className:"token maybe-class-name"},"Rectangle")),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    controllerProps",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"VirtualProps"),(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    index",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token builtin"},"number"),"\n    value",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token builtin"},"number"),"\n",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n    ",(0,i.kt)("span",{parentName:"code",className:"token keyword"},"const")," value ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,i.kt)("span",{parentName:"code",className:"token function"},"useContext"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,i.kt)("span",{parentName:"code",className:"token maybe-class-name"},"SpringValueContext"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,i.kt)("span",{parentName:"code",className:"token keyword"},"const")," left ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"=")," ",(0,i.kt)("span",{parentName:"code",className:"token function"},"useMemo"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),"\n        ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,i.kt)("span",{parentName:"code",className:"token arrow operator"},"=>"),"\n            value",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,i.kt)("span",{parentName:"code",className:"token method function property-access"},"to"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),"\n                ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),"v",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,i.kt)("span",{parentName:"code",className:"token arrow operator"},"=>"),"\n                    controllerProps",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,i.kt)("span",{parentName:"code",className:"token method function property-access"},"reduce"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),"\n                        ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),"prev",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{")," index",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," value ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,i.kt)("span",{parentName:"code",className:"token arrow operator"},"=>")," prev ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"+")," ",(0,i.kt)("span",{parentName:"code",className:"token known-class-name class-name"},"Math"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,i.kt)("span",{parentName:"code",className:"token method function property-access"},"max"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),(0,i.kt)("span",{parentName:"code",className:"token number"},"0"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,i.kt)("span",{parentName:"code",className:"token number"},"1")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"-")," ",(0,i.kt)("span",{parentName:"code",className:"token known-class-name class-name"},"Math"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,i.kt)("span",{parentName:"code",className:"token method function property-access"},"abs"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),"v ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"-")," index",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"*")," value",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n                        ",(0,i.kt)("span",{parentName:"code",className:"token number"},"0"),"\n                    ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"*"),"\n                    ",(0,i.kt)("span",{parentName:"code",className:"token dom variable"},"window"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,i.kt)("span",{parentName:"code",className:"token property-access"},"innerWidth")," ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"*"),"\n                    ",(0,i.kt)("span",{parentName:"code",className:"token number"},"0.8"),"\n            ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n        ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"["),"value",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},",")," ",(0,i.kt)("span",{parentName:"code",className:"token spread operator"},"..."),"controllerProps",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"]"),"\n    ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n    ",(0,i.kt)("span",{parentName:"code",className:"token keyword control-flow"},"return")," ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"("),"\n        ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"<"),"a",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"."),(0,i.kt)("span",{parentName:"code",className:"token property-access"},"div"),"\n            style",(0,i.kt)("span",{parentName:"code",className:"token operator"},"="),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"{"),"\n                position",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token string"},'"absolute"'),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n                left",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n                width",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token string"},'"20vw"'),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n                height",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token number"},"300"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n                background",(0,i.kt)("span",{parentName:"code",className:"token operator"},":")," ",(0,i.kt)("span",{parentName:"code",className:"token string"},'"#f00"'),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},","),"\n            ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n        ",(0,i.kt)("span",{parentName:"code",className:"token operator"},"/"),(0,i.kt)("span",{parentName:"code",className:"token operator"},">"),"\n    ",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},")"),"\n",(0,i.kt)("span",{parentName:"code",className:"token punctuation"},"}"),"\n")))}v.isMDXComponent=!0;var h=n(4246);function b(){var e=(0,m.useSpring)({value:0}).value;return(0,h.jsxs)("div",{className:"d-flex flex-column fullscreen",children:[(0,h.jsxs)(r.default,{children:[(0,h.jsx)("title",{children:"co-virtualize"}),(0,h.jsx)("meta",{name:"description",content:"At Coconut XR we bring 3D to the Web, Augmented Reality (AR), Virtual Reality (VR) and XR / WebXR. We connect people and business using the latest collaboration and multiuser technologies with a strong background in cloud and distributed development. With many years of experience in software development and fresh ideas we thrive to build the applications of the future."}),(0,h.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,h.jsx)("link",{rel:"icon",type:"image/svg+xml",href:"/res/icon.svg"}),(0,h.jsx)("link",{rel:"mask-icon",href:"/res/icon.svg",color:"#fff"})]}),(0,h.jsx)(l.h,{selectedIndex:0}),(0,h.jsx)("input",{defaultValue:0,min:0,max:2,step:.01,type:"range",onChange:function(a){return e.start(a.target.valueAsNumber)}}),(0,h.jsx)("div",{style:{width:"100%",overflow:"hidden",flexShrink:0,height:300,position:"relative"},children:(0,h.jsx)(g.Provider,{value:e,children:(0,h.jsxs)(p.VirtualBase,{children:[(0,h.jsx)(x,{index:0,value:0}),(0,h.jsx)(x,{index:1,value:1}),(0,h.jsx)(x,{index:2,value:.5})]})})}),(0,h.jsx)("div",{className:"border-top border-2 bt-1 p-3",children:(0,h.jsx)(v,{})}),(0,h.jsx)(k.$,{})]})}function x(e){var a=e.value,n=e.index;return(0,p.useVirtual)(y,{index:n,value:a},void 0,"abc"),null}var g=(0,c.createContext)(null);function y(e){var a=e.controllerProps,n=(0,c.useContext)(g),t=(0,c.useMemo)((function(){return n.to((function(e){return a.reduce((function(a,n){var t=n.index,o=n.value;return a+Math.max(0,1-Math.abs(e-t))*o}),0)*window.innerWidth*.8}))}),[n].concat(s(a)));return(0,h.jsx)(m.a.div,{style:{position:"absolute",left:t,width:"20vw",height:300,background:"#f00"}})}},2564:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/transition",function(){return n(916)}])}},function(e){e.O(0,[29,234,774,888,179],(function(){return a=2564,e(e.s=a);var a}));var a=e.O();_N_E=a}]);